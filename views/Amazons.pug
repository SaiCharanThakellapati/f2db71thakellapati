extends layout
block content

  h1(style="text-align:center;")= title
   
  -let items = results
  div(class="container-fluid") 
  div(class="row m-1") 
    each item in items  
      - let destination = `dispatch(\"/Amazons/update?id=${item._id}\")`
      - let destinationdelete = `dispatch(\"/Amazons/delete?id=${item._id}\")`
      - let destinationdetail = `dispatch(\"/Amazons/detail?id=${item._id}\")`
      div(class="row-sm-2 m-1") Item #{item.item}(#{item.quantity}) is #{item.cost} 
        button.btn( class="btn-primary ml-1", onclick= destination) Update 
        button.btn( class="btn-primary ml-1", onclick= destinationdelete) Delete
        button.btn( class="btn-primary ml-1", onclick= destinationdetail) Detail


        
  script. 
    function dispatch(path){ 
      window.location.href=path 
    } 

  - let destinationcreate = `dispatch(\"/Amazons/create\")`
   button.btn( class="btn-success ml-1", onclick= destinationcreate) Create a new Item
  
  table(class="table table-stripped table-bordered")
    thead(style="background-color:lightgreen;color:white") 
      tr
        td Item ID
        td Item item
        td Item quantity
        td Item cost 
        td Update 
        td Delete
        td Detail
    tbody

      each item in items
        - let destination = `dispatch(\"/Amazons/update?id=${item._id}\")`
        - let destinationdelete = `dispatch(\"/Amazons/delete?id=${item._id}\")`
        - let destinationdetail = `dispatch(\"/Amazons/detail?id=${item._id}\")`
        //- - let destination = `dispatch(\"/Amazons/delete?id=${item._id}\")`
        //- - let destination = `dispatch(\"/Amazons/create?id=${item._id}\")`
        tr
          td #{item._id}
          td #{item.item}
          td #{item.quantity}
          td #{item.cost}
          td 
            button.btn( class="btn-primary ml-1", onclick= `dispatch(\"/Amazons/update?id=${item._id}\")`) Update
            //button.btn( class="btn-primary ml-1", onclick= destinationdelete) Delete
            //button.btn( class="btn-primary ml-1", onclick= destinationdetail) Detail
          td 
            button.btn( class="btn-primary ml-1", onclick= destinationdelete) Delete
          td 
            button.btn( class="btn-primary ml-1", onclick= destinationdetail) Detail

        script. 
          function destination(path){ 
            window.location.href=path 
          } 

  //- -let list =[{item:"Mobile Phone",quantity:1,cost:1200},{item:"Beats Earbuds",quantity:1,cost:12},{item:"ASUS TUF Gaming Laptop",quantity:1,cost:1700}]
  //- div(class="container-fluid")
  //- div(class="row")
  //-   each Amazon,index in list
  //-     table(style='width:100%')
  //-       tr
  //-         div(class="col-sm-2" onclick=`buy(${index})`) #{Amazon.item}
  //-         div(class="col-sm-2" onclick=`buy(${index})`) #{Amazon.quantity}
  //-         div(class="col-sm-2" onclick=`buy(${index})`) #{Amazon.cost}
  //-   script.
  //-     function buy(item){
  //-       alert(`You Have choose Item:${item+1}`) 
  //-     } 







